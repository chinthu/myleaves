// Colors - Primary
$primary-color: #C5FF41;
$primary-dark: #B0E838;
$primary-gradient: linear-gradient(135deg, #C5FF41 0%, #B0E838 100%);

// Colors - Background & Surface
$background-color: #FAFAFA;
$surface-color: #FFFFFF;
$sidebar-bg: #F8F8F8;
$card-bg: #FFFFFF;

// Colors - Text
$text-primary: #1A1A1A;
$text-secondary: #6B6B6B;
$text-muted: #9E9E9E;
$text-light: #BDBDBD;
$text-black: #000000;

// Colors - Borders
$border-color: #E8E8E8;
$border-light: #F0F0F0;

// Colors - Status
$success-bg: #E8F5E9;
$success-text: #2E7D32;
$danger-bg: #FFEBEE;
$danger-text: #C62828;
$warning-bg: #FFF3E0;
$warning-text: #EF6C00;
$info-bg: #E3F2FD;
$info-text: #1565C0;

// Colors - Dark Accent
$dark-accent: #2D2D2D;
$dark-accent-hover: #1F1F1F;

// Spacing
$spacing-xs: 0.25rem;
$spacing-sm: 0.5rem;
$spacing-md: 1rem;
$spacing-lg: 1.5rem;
$spacing-xl: 2rem;
$spacing-2xl: 3rem;

// Border Radius
$radius: 8px;
$radius-sm: 4px;
$radius-md: 12px;
$radius-lg: 16px;
$radius-xl: 20px;
$radius-round: 50%;

// Shadows
$shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
$shadow-md: 0 2px 8px rgba(0, 0, 0, 0.1);
$shadow-lg: 0 4px 12px rgba(0, 0, 0, 0.12);
$shadow-xl: 0 8px 24px rgba(0, 0, 0, 0.15);

// Typography
$font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
$font-size-xs: 11px;
$font-size-sm: 13px;
$font-size-base: 14px;
$font-size-md: 16px;
$font-size-lg: 18px;
$font-size-xl: 22px;
$font-size-2xl: 28px;

$font-weight-light: 300;
$font-weight-normal: 400;
$font-weight-medium: 500;
$font-weight-semibold: 600;
$font-weight-bold: 700;

// Transitions
$transition-fast: 0.15s ease;
$transition-base: 0.2s ease;
$transition-slow: 0.3s ease;

// Z-index
$z-dropdown: 1000;
$z-sticky: 1010;
$z-modal: 1050;
$z-tooltip: 1060;

// ============================================
// MIXINS
// ============================================

@mixin card {
    background: $surface-color;
    border-radius: $radius-lg;
    padding: $spacing-lg;
    box-shadow: $shadow-sm;
    border: 1px solid $border-light;
}

@mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

@mixin flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

@mixin flex-column {
    display: flex;
    flex-direction: column;
}

@mixin hover-lift {
    transition: all $transition-base;

    &:hover {
        transform: translateY(-2px);
        box-shadow: $shadow-md;
    }
}

@mixin truncate {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

@mixin button-reset {
    background: none;
    border: none;
    padding: 0;
    cursor: pointer;
    font-family: inherit;
}

@mixin avatar($size: 32px) {
    width: $size;
    height: $size;
    border-radius: $radius-round;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: $font-weight-semibold;
    flex-shrink: 0;
}

// ============================================
// BASE STYLES
// ============================================

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: $font-family;
    background-color: $background-color;
    color: $text-primary;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-weight: $font-weight-normal;
    font-size: $font-size-base;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    color: $text-black;
    font-weight: $font-weight-semibold;
    line-height: 1.2;
}

h1 {
    font-size: $font-size-2xl;
    font-weight: $font-weight-bold;
}

h2 {
    font-size: $font-size-xl;
    font-weight: $font-weight-semibold;
}

h3 {
    font-size: $font-size-lg;
    font-weight: $font-weight-semibold;
}

button {
    font-family: inherit;
}

// ============================================
// PRIMENG OVERRIDES
// ============================================

.p-button {
    padding: 10px 20px !important;
    font-weight: $font-weight-medium !important;
    border-radius: $radius !important;
    border: none !important;
    transition: all $transition-base !important;
    font-size: $font-size-base !important;
    .pi{
        font-size: 13px;
       margin-right: 5px;
    }
}

.p-button:not(.p-button-outlined):not(.p-button-text) {
    background: $dark-accent !important;
    color: white !important;
}

.p-button:not(.p-button-outlined):not(.p-button-text):hover {
    background: $dark-accent-hover !important;
    transform: translateY(-1px);
    box-shadow: $shadow-md;
}

.p-button-outlined {
    background: transparent !important;
    border: 1px solid $border-color !important;
    color: $text-primary !important;
}

.p-button-outlined:hover {
    background: $surface-color !important;
    border-color: $text-secondary !important;
}

.p-button-text {
    background: transparent !important;
    color: $text-secondary !important;
}

.p-button-text:hover {
    background: rgba(0, 0, 0, 0.04) !important;
}

.p-button-sm {
    padding: 6px 12px !important;
    font-size: $font-size-sm !important;
}

.p-button-lg {
    padding: 14px 28px !important;
    font-size: $font-size-md !important;
}

.p-button-rounded {
    border-radius: $radius-lg !important;
}

// Input Overrides
.p-inputtext {
    padding: 10px 12px !important;
    border-radius: $radius !important;
    border: 1px solid $border-color !important;
    font-size: $font-size-base !important;
    color: $text-primary !important;
    transition: all $transition-base !important;
}

.p-inputtext:focus {
    border-color: $primary-color !important;
    box-shadow: 0 0 0 3px rgba(197, 255, 65, 0.1) !important;
}

.p-inputnumber-buttons-horizontal .p-button {
    border-radius: 0 !important;
}
// Dropdown Overrides
.p-dropdown {
    min-width: 180px;
    border-radius: $radius !important;
    border: 1px solid $border-color !important;
}

.p-dropdown .p-dropdown-label {
    padding: 10px 12px !important;
    font-size: $font-size-base !important;
}

.p-dropdown:not(.p-disabled):hover {
    border-color: $text-secondary !important;
}

.p-dropdown:not(.p-disabled).p-focus {
    border-color: $primary-color !important;
    box-shadow: 0 0 0 3px rgba(197, 255, 65, 0.1) !important;
}

// Table Overrides
.p-datatable {
    background: $surface-color;
    border-radius: $radius-lg !important;
    overflow: hidden;
}

.p-datatable .p-datatable-thead>tr>th {
    background-color: $surface-color !important;
    color: $text-secondary !important;
    font-weight: $font-weight-semibold !important;
    text-transform: uppercase !important;
    font-size: $font-size-xs !important;
    letter-spacing: 0.05em !important;
    padding: 14px 16px !important;
    border-bottom: 1px solid $border-color !important;
    border-top: none !important;
    font-family: $font-family;
    .p-sortable-column-icon{
        width: 12px;
        margin-top: -4px;
    }
}

.p-datatable .p-datatable-tbody>tr {
    border-bottom: 1px solid $border-light !important;
    transition: background-color $transition-fast;
}

// Alternate row colors (zebra striping)
.p-datatable .p-datatable-tbody>tr:nth-child(even) {
    background-color: #f8fcf0 !important;
}

.p-datatable .p-datatable-tbody>tr:nth-child(odd) {
    background-color: #FFFFFF !important;
}

.p-datatable .p-datatable-tbody>tr>td {
    padding:5px 16px !important;
    color: $text-primary !important;
    font-size: $font-size-base !important;
    font-family: $font-family;
    font-weight: 500;
    border: none !important;
}

.p-datatable .p-datatable-tbody>tr:hover {
    background-color: #F5F5F5 !important;
}

.p-datatable .p-datatable-tbody>tr:last-child {
    border-bottom: none !important;
}

// Dialog Overrides
.p-dialog {
    border-radius: $radius-lg !important;
    box-shadow: $shadow-xl !important;
}

.p-dialog .p-dialog-header {
    background: $surface-color !important;
    border-bottom: 1px solid $border-light !important;
    padding: $spacing-lg !important;
    border-radius: $radius-lg $radius-lg 0 0 !important;
}

.p-dialog .p-dialog-header .p-dialog-title {
    font-size: $font-size-xl !important;
    font-weight: $font-weight-semibold !important;
    color: $text-primary !important;
}

.p-dialog .p-dialog-header .p-dialog-header-icon {
    width: 2rem !important;
    height: 2rem !important;
    background: transparent !important;
    border: none !important;
    border-radius: $radius !important;
    color: #000000 !important;
    transition: opacity $transition-base !important;
    cursor: pointer !important;
}

.p-dialog .p-dialog-header .p-dialog-header-icon:hover {
    background: transparent !important;
    color: #000000 !important;
    opacity: 0.7 !important;
}

.p-dialog .p-dialog-header .p-dialog-header-icon:focus {
    background: transparent !important;
    box-shadow: none !important;
    outline: none !important;
    color: #000000 !important;
}

// Disable dragging for all dialogs
.p-dialog {
    .p-dialog-header {
        cursor: default !important;
    }
}

.p-dialog .p-dialog-content {
    padding: $spacing-lg !important;
    background: $surface-color !important;
    overflow: visible !important;
}

.p-dialog {
    overflow: visible !important;
}

.p-dialog .p-dialog-footer {
    background: $surface-color !important;
    border-top: 1px solid $border-light !important;
    padding: $spacing-lg !important;
    border-radius: 0 0 $radius-lg $radius-lg !important;
    display: flex !important;
    justify-content: flex-end !important;
    gap: $spacing-sm !important;
}

.p-dialog-mask {
    background: rgba(0, 0, 0, 0.5) !important;
    backdrop-filter: blur(2px);
}

// Calendar Overrides
.p-calendar {
    width: 100% !important;
}

.p-calendar .p-inputtext {
    width: 100% !important;
}

.p-calendar .p-datepicker-trigger {
    background: $border-light !important;
    border: 1px solid $border-color !important;
    border-left: none !important;
    border-radius: 0 $radius $radius 0 !important;
    color: $text-secondary !important;
    transition: all $transition-base !important;
}

.p-calendar .p-datepicker-trigger:hover {
    background: $border-color !important;
    color: $text-primary !important;
}

// Datepicker Popover - Max Width
.p-datepicker.p-component {
    min-width: 300px !important;
    max-width: 300px !important;
    width: 300px !important;
}

// Textarea Overrides
.p-inputtextarea {
    width: 100% !important;
    padding: $spacing-sm $spacing-md !important;
    border-radius: $radius !important;
    border: 1px solid $border-color !important;
    font-size: $font-size-base !important;
    font-family: $font-family !important;
    color: $text-primary !important;
    resize: vertical !important;
    transition: all $transition-base !important;
}

.p-inputtextarea:focus {
    outline: none !important;
    border-color: $primary-color !important;
    box-shadow: 0 0 0 3px rgba(197, 255, 65, 0.1) !important;
}

// Checkbox Overrides
.p-checkbox {
    width: 18px !important;
    height: 18px !important;
}

.p-checkbox .p-checkbox-box {
    border: 2px solid $border-color !important;
    border-radius: $radius-sm !important;
    width: 18px !important;
    height: 18px !important;
    transition: all $transition-base !important;
}

.p-checkbox .p-checkbox-box.p-highlight {
    background: $dark-accent !important;
    border-color: $dark-accent !important;
}

.p-checkbox .p-checkbox-box:hover {
    border-color: $text-secondary !important;
}

// Label styling
label {
    display: block;
    font-weight: $font-weight-medium;
    color: $text-primary;
    margin-bottom: $spacing-sm;
    font-size: $font-size-sm;
}

// Tag Overrides
.p-tag {
    border-radius: $radius-md !important;
    padding: 4px 10px !important;
    font-size: $font-size-sm !important;
    font-weight: $font-weight-medium !important;
}

.p-tag.p-tag-success {
    background: $success-bg !important;
    color: $success-text !important;
}

.p-tag.p-tag-danger {
    background: $danger-bg !important;
    color: $danger-text !important;
}

.p-tag.p-tag-warning {
    background: $warning-bg !important;
    color: $warning-text !important;
}

.p-tag.p-tag-info {
    background: $info-bg !important;
    color: $info-text !important;
}

// ============================================
// UTILITY CLASSES
// ============================================

.card {
    @include card;
}

.badge {
    display: inline-block;
    padding: 4px 10px;
    border-radius: $radius-md;
    font-size: $font-size-sm;
    font-weight: $font-weight-medium;
}

.badge-success {
    background: $success-bg;
    color: $success-text;
}

.badge-danger {
    background: $danger-bg;
    color: $danger-text;
}

.badge-warning {
    background: $warning-bg;
    color: $warning-text;
}

.badge-info {
    background: $info-bg;
    color: $info-text;
}

.text-muted {
    color: $text-muted !important;
}

.text-secondary {
    color: $text-secondary !important;
}

.font-medium {
    font-weight: $font-weight-medium;
}

.font-semibold {
    font-weight: $font-weight-semibold;
}

.font-bold {
    font-weight: $font-weight-bold;
}

// ============================================
// NG-SELECT STYLING
// ============================================

.ng-select {
    width: 100%;
    font-size: $font-size-base !important;
}

.ng-select .ng-select-container {
    border-radius: $radius !important;
    border: 1px solid $border-color !important;
    min-height: 42px !important;
    transition: all $transition-base !important;
    background: $surface-color !important;
}

.ng-select.ng-select-focused .ng-select-container {
    border-color: $primary-color !important;
    box-shadow: 0 0 0 3px rgba(197, 255, 65, 0.1) !important;
}

.ng-select .ng-select-container:hover {
    border-color: $text-secondary !important;
}

.ng-select .ng-value-container {
    padding: 8px 12px !important;
    padding-right: 40px !important;
}

.ng-select.ng-select-single .ng-value-container {
    padding-right: 40px !important;
}

.ng-select.ng-select-single.ng-select-clearable .ng-value-container {
    padding-right: 40px !important;
}

// Hide placeholder when value is selected
.ng-select.ng-select-single.ng-has-value .ng-placeholder,
.ng-select.ng-select-multiple.ng-has-value .ng-placeholder {
    display: none !important;
}

.ng-select .ng-placeholder {
    color: $text-muted !important;
    font-size: $font-size-base !important;
    opacity: 1 !important;
}

.ng-select .ng-has-value .ng-placeholder {
    opacity: 0 !important;
}

.ng-select .ng-value {
    color: $text-primary !important;
    font-size: $font-size-base !important;
    line-height: 1.5 !important;
}

.ng-select .ng-value-label {
    display: inline-block !important;
}

// Clear button (close icon) styling
.ng-select .ng-clear-wrapper {
    color: $text-secondary !important;
    cursor: pointer !important;
    padding: 4px !important;
    margin-right: -2px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 20px !important;
    height: 40px !important;
    border-radius: $radius-sm !important;
    transition: all $transition-fast !important;
}

.ng-select .ng-clear-wrapper:hover {
    color: $text-primary !important;
    background: $border-light !important;
}

.ng-select .ng-clear {
    font-size: 18px !important;
    line-height: 1 !important;
    display: block !important;
}

// Arrow wrapper
.ng-select .ng-arrow-wrapper {
    padding-right: 8px !important;
    width: 30px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

.ng-select .ng-arrow {
    border-color: $text-secondary transparent transparent !important;
    border-width: 5px 5px 2.5px !important;
    border-style: solid !important;
    margin-top: 0 !important;
}

.ng-select.ng-select-opened .ng-arrow {
    border-color: transparent transparent $text-secondary !important;
    border-width: 2.5px 5px 5px !important;
    margin-top: -2px !important;
}

// Dropdown panel - ensure it's always visible
.ng-dropdown-panel {
    border-radius: $radius !important;
    border: 1px solid $border-color !important;
    box-shadow: $shadow-md !important;
    background: $surface-color !important;
    z-index: 10000 !important;
    max-height: 300px !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
}

// Ensure dropdown panel items container is visible
.ng-dropdown-panel .ng-dropdown-panel-items {
    max-height: 300px !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    display: block !important;
    visibility: visible !important;
}

// Ensure the items wrapper is visible
.ng-dropdown-panel-items .ng-option {
    display: block !important;
    visibility: visible !important;
}

// Don't override positioning - let ng-select handle it completely
// When appendTo="body" is used, ng-select sets inline styles dynamically
// When not using appendTo, ng-select uses relative positioning

// Options
.ng-dropdown-panel .ng-option {
    padding: 10px 12px !important;
    color: $text-primary !important;
    transition: background-color $transition-fast !important;
    cursor: pointer !important;
    display: block !important;
    white-space: nowrap !important;
}

.ng-dropdown-panel .ng-option:hover,
.ng-dropdown-panel .ng-option.ng-option-marked {
    background: $border-light !important;
}

.ng-dropdown-panel .ng-option.ng-option-selected {
    background: rgba(197, 255, 65, 0.1) !important;
    color: $text-primary !important;
    font-weight: $font-weight-medium !important;
}

.ng-dropdown-panel .ng-option.ng-option-selected.ng-option-marked {
    background: rgba(197, 255, 65, 0.15) !important;
}

// Empty message
.ng-dropdown-panel .ng-option.ng-option-disabled {
    color: $text-muted !important;
    cursor: default !important;
}

// Loading spinner
.ng-select.ng-select-loading .ng-arrow-wrapper {
    display: none !important;
}

.ng-select.ng-select-loading .ng-spinner-loader {
    border-color: $text-secondary transparent transparent !important;
}

// Multiple select tags
.ng-select.ng-select-multiple .ng-value-container .ng-value {
    background: $border-light !important;
    border-radius: $radius-sm !important;
    padding: 2px 8px !important;
    margin: 2px 4px 2px 0 !important;
    font-size: $font-size-sm !important;
}

.ng-select.ng-select-multiple .ng-value-container .ng-value .ng-value-label {
    display: inline-block !important;
}

.ng-select.ng-select-multiple .ng-value-container .ng-value .ng-value-icon {
    padding-left: 6px !important;
    cursor: pointer !important;
    color: $text-secondary !important;
}

.ng-select.ng-select-multiple .ng-value-container .ng-value .ng-value-icon:hover {
    color: $text-primary !important;
}

// Ensure input is visible
.ng-select .ng-input {
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
}

.ng-select .ng-input > input {
    width: 100% !important;
    box-sizing: border-box !important;
}

// Fix for single select value display
.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value {
    position: absolute !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    left: 12px !important;
    right: 50px !important;
}

.ng-select.ng-select-single.ng-select-clearable .ng-select-container .ng-value-container .ng-value {
    right: 50px !important;
}

// Multiselect Overrides - Remove focus styling and fix alignment
.p-multiselect {
    &:focus,
    &.p-focus {
        box-shadow: none !important;
        border-color: $border-color !important;
    }

    .p-multiselect-label-container {
        padding: 0.5rem 0.75rem !important;
    }

    .p-multiselect-trigger {
        width: 2.5rem !important;
    }
}

.p-multiselect-panel {
    .p-multiselect-header {
        padding: 0.75rem !important;
        border-bottom: 1px solid $border-light !important;

        .p-multiselect-filter-container {
            width: 100% !important;

            .p-inputtext {
                width: 100% !important;
                padding: 0.5rem 0.75rem !important;
            }
        }
    }
    .p-multiselect-header .p-multiselect-filter-container .p-multiselect-filter-icon {
        display: none;
    }
    .p-multiselect-items-wrapper {
        .p-multiselect-items {
            padding: 0.25rem 0 !important;

            .p-multiselect-item {
                padding: 0.75rem 0.75rem !important;
                margin: 0 !important;
                border-radius: 0 !important;

                &:focus {
                    box-shadow: none !important;
                    background-color: $border-light !important;
                }

                &.p-highlight {
                    background-color: rgba(197, 255, 65, 0.1) !important;
                    color: $text-primary !important;
                }

                &:hover {
                    background-color: $border-light !important;
                }
            }
        }
    }
}

// Tooltip Overrides
.p-tooltip {
    .p-tooltip-text {
        background-color: #000000 !important;
        color: #FFFFFF !important;
        font-size: 9px !important;
        padding: 4px 8px !important;
        border-radius: 4px !important;
        font-family: $font-family !important;
        font-weight: 400 !important;
        line-height: 1.4 !important;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
    }

    .p-tooltip-arrow {
        border-width: 4px !important;
    }

    // Arrow positioning and styling for different positions
    &.p-tooltip-top .p-tooltip-arrow {
        border-top-color: #000000 !important;
        bottom: -4px !important;
    }

    &.p-tooltip-bottom .p-tooltip-arrow {
        border-bottom-color: #000000 !important;
        top: -4px !important;
    }

    &.p-tooltip-left .p-tooltip-arrow {
        border-left-color: #000000 !important;
        right: -4px !important;
    }

    &.p-tooltip-right .p-tooltip-arrow {
        border-right-color: #000000 !important;
        left: -4px !important;
    }
}

