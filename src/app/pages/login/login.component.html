<div class="login-container flex align-items-center justify-content-center min-h-screen bg-blue-50">
  <p-card styleClass="login-card w-full md:w-6 lg:w-4 shadow-4" [style]="{maxWidth: '450px'}">
    <ng-template pTemplate="header">
      <div class="brand-logo flex flex-column align-items-center pt-5">
        <div class="logo-circle bg-primary-500 text-white border-circle flex align-items-center justify-content-center"
          style="width: 4rem; height: 4rem;">
          <i class="pi pi-shield text-3xl"></i>
        </div>
        <h1 class="text-2xl font-bold mt-3 mb-0">Leave Manager</h1>
      </div>
    </ng-template>

    <div *ngIf="!otpSent" class="p-3">
      <div class="text-center mb-5">
        <h2 class="text-xl font-semibold text-900 mb-2">Welcome Back</h2>
        <p class="text-500 m-0">Sign in to manage your leaves</p>
      </div>

      <p-messages [(value)]="messages" [enableService]="false" [closable]="false"></p-messages>

      <form (ngSubmit)="handleLogin()" class="flex flex-column gap-4">
        <div class="flex flex-column gap-2">
          <label htmlFor="email" class="font-medium text-900">Email Address</label>
          <input pInputText id="email" [(ngModel)]="email" name="email" required placeholder="name@company.com"
            autofocus class="w-full" />
        </div>

        <p-button label="Sign in with Email" [loading]="loading" type="submit" styleClass="w-full"></p-button>
      </form>
    </div>

    <div *ngIf="otpSent" class="success-state text-center p-3">
      <div class="success-icon mb-4 flex align-items-center justify-content-center bg-green-100 border-circle mx-auto"
        style="width: 4rem; height: 4rem;">
        <i class="pi pi-check text-2xl text-green-500"></i>
      </div>
      <h3 class="text-xl font-semibold text-900 mb-2">Check your email</h3>
      <p class="text-600 line-height-3 mb-4">We've sent a magic link to <strong class="text-900">{{ email }}</strong>.
      </p>
      <p class="instruction text-sm text-500 mb-4">Click the link in the email to sign in instantly.</p>

      <p-button label="Back to login" link="true" (onClick)="otpSent = false" styleClass="mt-2"></p-button>
    </div>
  </p-card>
</div>